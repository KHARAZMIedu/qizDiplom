<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¢Ø²Ù…ÙˆÙ† Ú©Ø§Ø±Ø¨Ø± Ùˆ ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡ - Ù…ÙˆØ³Ø³Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø®ÙˆØ§Ø±Ø²Ù…ÛŒ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #1a5f7a;
            --secondary-color: #159895;
            --accent-color: #ffc107;
            --nav-prev-color: #2196F3;
            --nav-next-color: #9C27B0;
            --light-color: #f8f9fa;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --danger-color: #e74c3c;
            --warning-color: #f39c12;
            --info-color: #3498db;
            --answered-color: #6c757d;
            --gradient-primary: linear-gradient(135deg, var(--primary-color), #159895, #57c4b0);
            --gradient-success: linear-gradient(135deg, var(--success-color), #27ae60);
            --gradient-danger: linear-gradient(135deg, var(--danger-color), #c0392b);
            --gradient-accent: linear-gradient(135deg, var(--accent-color), #ff9800);
            --gradient-answered: linear-gradient(135deg, #6c757d, #495057);
            --gradient-nav-prev: linear-gradient(135deg, var(--nav-prev-color), #1976D2);
            --gradient-nav-next: linear-gradient(135deg, var(--nav-next-color), #7B1FA2);
            --box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            --box-shadow-hover: 0 5px 15px rgba(0, 0, 0, 0.1);
            --transition: all 0.2s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Vazir', 'Tanha', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            color: #333;
            line-height: 1.4;
            min-height: 100vh;
            animation: fadeIn 0.5s ease-out;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
        }
        
        header {
            background: var(--gradient-primary);
            color: white;
            padding: 12px 0;
            text-align: center;
            box-shadow: var(--box-shadow);
            margin-bottom: 15px;
            border-radius: 0 0 12px 12px;
        }
        
        header h1 {
            font-size: 18px;
            font-weight: 700;
        }
        
        button {
            background: var(--gradient-primary);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            margin: 3px;
            transition: var(--transition);
            box-shadow: var(--box-shadow);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: var(--box-shadow-hover);
        }
        
        button.selected {
            background: var(--gradient-accent);
            color: var(--dark-color);
        }
        
        button.correct {
            background: var(--gradient-success);
        }
        
        button.incorrect {
            background: var(--gradient-danger);
        }
        
        button.answered {
            background: var(--gradient-answered);
        }
        
        button.nav-btn {
            padding: 8px 12px;
            font-size: 13px;
            min-width: 100px;
        }
        
        button.nav-prev-btn {
            background: var(--gradient-nav-prev) !important;
        }
        
        button.nav-next-btn {
            background: var(--gradient-nav-next) !important;
        }
        
        button.submit-btn {
            background: var(--gradient-success);
            padding: 10px 16px;
            font-size: 14px;
            min-width: 120px;
        }
        
        .main-menu {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: auto;
            padding: 10px;
        }
        
        .exam-info {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: var(--box-shadow);
            margin-bottom: 15px;
            width: 100%;
            max-width: 800px;
            text-align: center;
            animation: fadeIn 0.5s ease-out;
            border-left: 4px solid var(--primary-color);
        }
        
        .exam-info h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--accent-color);
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .exam-stats {
            display: flex;
            justify-content: space-around;
            margin: 12px 0;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .stat-item {
            text-align: center;
            padding: 10px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            min-width: 70px;
            flex: 1;
            max-width: 120px;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 4px;
            color: var(--primary-color);
        }
        
        .stat-label {
            font-size: 11px;
            color: #666;
            font-weight: 600;
        }
        
        .quiz-container {
            display: none;
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: var(--box-shadow);
            margin-bottom: 15px;
            animation: fadeIn 0.5s ease-out;
            border-left: 4px solid var(--primary-color);
        }
        
        .lesson-title {
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            margin-bottom: 12px;
            color: var(--primary-color);
            padding-bottom: 8px;
            border-bottom: 2px solid var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .timer {
            font-size: 16px;
            text-align: center;
            margin-bottom: 12px;
            background: var(--gradient-primary);
            padding: 8px;
            border-radius: 6px;
            font-weight: 700;
            color: white;
            animation: pulse 2s infinite;
        }
        
        .timer.warning {
            background: var(--gradient-accent);
            animation: pulse 1s infinite;
        }
        
        .timer.danger {
            background: var(--gradient-danger);
            animation: pulse 0.5s infinite;
        }
        
        .question {
            font-size: 15px;
            font-weight: 600;
            margin: 12px 0;
            text-align: right;
            line-height: 1.5;
            padding: 12px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            border-right: 4px solid var(--primary-color);
            position: relative;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 12px;
        }
        
        .option-btn {
            width: 100%;
            height: 45px;
            text-align: right;
            font-size: 13px;
            padding: 0 50px 0 15px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            border-radius: 6px;
            margin: 5px 0;
            position: relative;
        }
        
        .option-btn::before {
            content: attr(data-option);
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 28px;
            height: 28px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 13px;
        }
        
        .option-btn:hover {
            transform: translateX(-5px);
        }
        
        .navigation {
            display: flex;
            justify-content: center;
            margin: 12px 0;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .question-numbers {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 6px;
            margin: 12px 0;
            padding: 12px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            direction: rtl;
        }
        
        .number-btn {
            width: 35px;
            height: 35px;
            font-size: 14px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }
        
        .number-btn:hover {
            transform: scale(1.1);
        }
        
        .progress-container {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin: 12px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .results-container {
            display: none;
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: var(--box-shadow);
            margin-bottom: 15px;
            animation: fadeIn 0.5s ease-out;
            border-left: 4px solid var(--primary-color);
        }
        
        .summary {
            font-size: 16px;
            font-weight: 700;
            text-align: center;
            margin: 12px 0;
            padding: 12px;
            background: var(--gradient-primary);
            color: white;
            border-radius: 8px;
        }
        
        .pass-animation {
            animation: pulse 1.5s infinite;
        }
        
        .detailed-results {
            margin: 12px 0;
        }
        
        .category-result {
            margin-bottom: 8px;
            padding: 12px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            border-right: 4px solid var(--primary-color);
        }
        
        .help-container {
            display: none;
            text-align: right;
            line-height: 1.5;
            font-size: 13px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: var(--box-shadow);
            margin-bottom: 15px;
            animation: fadeIn 0.5s ease-out;
            border-left: 4px solid var(--primary-color);
        }
        
        .help-container h2 {
            color: var(--primary-color);
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--accent-color);
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .login-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 70vh;
            padding: 10px;
            animation: fadeIn 0.5s ease-out;
        }
        
        .login-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--box-shadow);
            width: 100%;
            max-width: 400px;
            text-align: center;
            animation: fadeIn 0.5s ease-out;
            border-left: 4px solid var(--primary-color);
        }
        
        .login-box h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .login-box input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            transition: var(--transition);
        }
        
        .login-box input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(26, 95, 122, 0.2);
            outline: none;
        }
        
        .login-message {
            margin-top: 10px;
            font-weight: 600;
            min-height: 20px;
            font-size: 13px;
        }
        
        .loading {
            color: var(--primary-color);
            margin-top: 10px;
            font-size: 13px;
        }
        
        .exam-type-selection {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .exam-type-btn {
            width: 160px;
            height: 65px;
            font-size: 14px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
        }
        
        .exam-type-btn i {
            font-size: 22px;
            margin-bottom: 5px;
        }
        
        footer {
            text-align: center;
            padding: 12px 0;
            margin-top: 15px;
            font-size: 11px;
            color: #666;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-top: 2px solid var(--primary-color);
            border-radius: 12px 12px 0 0;
        }
        
        .answer-status {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 10px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 8px;
            font-size: 12px;
        }
        
        .status-item {
            text-align: center;
            flex: 1;
        }
        
        .status-value {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 3px;
        }
        
        .status-label {
            font-size: 11px;
            color: #666;
        }
        
        /* ØªØºÛŒÛŒØ± Ø§ØµÙ„ÛŒ: Ù…Ø¹Ú©ÙˆØ³ Ú©Ø±Ø¯Ù† ØªØ±ØªÛŒØ¨ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @media (max-width: 768px) {
            .container {
                padding: 8px;
            }
            
            header h1 {
                font-size: 16px;
            }
            
            .exam-type-selection {
                gap: 10px;
            }
            
            .exam-type-btn {
                width: 140px;
                height: 60px;
                font-size: 13px;
            }
            
            .question {
                font-size: 14px;
                padding: 10px;
            }
            
            .option-btn {
                height: 42px;
                font-size: 12px;
                padding: 0 45px 0 12px;
            }
            
            .option-btn::before {
                width: 25px;
                height: 25px;
                font-size: 12px;
                right: 10px;
            }
            
            .lesson-title {
                font-size: 16px;
            }
            
            .timer {
                font-size: 15px;
                padding: 8px;
            }
            
            .number-btn {
                width: 32px;
                height: 32px;
                font-size: 13px;
            }
            
            button.nav-btn {
                min-width: 90px;
                font-size: 12px;
                padding: 7px 10px;
            }
            
            /* ØªØºÛŒÛŒØ± ØªØ±ØªÛŒØ¨ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
            .quiz-container .navigation {
                flex-direction: column-reverse;
                align-items: center;
            }
            
            .results-container .navigation {
                flex-direction: column-reverse;
                align-items: center;
            }
        }
        
        @media (max-width: 480px) {
            .stat-item {
                min-width: 65px;
                padding: 8px;
            }
            
            .stat-value {
                font-size: 18px;
            }
            
            .stat-label {
                font-size: 10px;
            }
            
            .question {
                font-size: 13px;
            }
            
            .option-btn {
                height: 40px;
                font-size: 12px;
                padding: 0 40px 0 10px;
            }
            
            .option-btn::before {
                width: 22px;
                height: 22px;
                font-size: 11px;
            }
            
            .exam-type-btn {
                width: 100%;
                max-width: 200px;
                height: 55px;
            }
            
            .summary {
                font-size: 14px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1><i class="fas fa-laptop-code"></i> Ø¢Ø²Ù…ÙˆÙ† Ú©Ø§Ø±Ø¨Ø± Ùˆ ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡ - Ù…ÙˆØ³Ø³Ù‡ Ø®ÙˆØ§Ø±Ø²Ù…ÛŒ</h1>
    </header>
    
    <div class="container">
        <!-- ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ Ø±Ù…Ø² -->
        <div id="login-container" class="login-container">
            <div class="login-box">
                <h2><i class="fas fa-lock"></i> ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ… Ø¢Ø²Ù…ÙˆÙ†</h2>
                <p style="margin-bottom: 15px; color: #666; font-size: 13px;">Ù„Ø·ÙØ§Ù‹ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¢Ø²Ù…ÙˆÙ† ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:</p>
                <input type="password" id="password-input" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±" autocomplete="off">
                <button id="login-btn" onclick="checkPassword()"><i class="fas fa-sign-in-alt"></i> ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…</button>
                <p id="login-message" class="login-message"></p>
                <p id="loading-message" class="loading" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i> Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...
                </p>
                <p style="margin-top: 15px; color: #999; font-size: 12px;">Ø±Ù…Ø² Ù¾ÛŒØ´â€ŒÙØ±Ø¶: 1452</p>
            </div>
        </div>

        <!-- Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ -->
        <div id="main-menu" class="main-menu" style="display: none;">
            <div class="exam-info">
                <h2><i class="fas fa-info-circle"></i> Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†</h2>
                <p style="font-size: 14px; margin-bottom: 15px;">Ù„Ø·ÙØ§Ù‹ Ù†ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ† Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:</p>
                
                <div class="exam-type-selection">
                    <button class="exam-type-btn" id="user-exam-btn" onclick="selectExamType('user')">
                        <i class="fas fa-desktop"></i>
                        Ø¢Ø²Ù…ÙˆÙ† Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ÛŒØ§Ù†Ù‡
                    </button>
                    <button class="exam-type-btn" id="typing-exam-btn" onclick="selectExamType('typing')">
                        <i class="fas fa-keyboard"></i>
                        Ø¢Ø²Ù…ÙˆÙ† ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡
                    </button>
                </div>
                
                <!-- Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ø³ÙˆØ§Ù„Ø§Øª -->
                <div id="questions-status" style="margin-top: 20px; padding: 15px; background: linear-gradient(135deg, #f8f9fa, #e9ecef); border-radius: 8px;">
                    <p style="font-size: 13px; margin: 0; color: #666; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-database"></i>
                        <span id="status-text">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ Ø³ÙˆØ§Ù„Ø§Øª...</span>
                    </p>
                </div>
            </div>
            
            <div style="margin-top: 20px; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px;">
                <button id="help-btn" onclick="showHelp()"><i class="fas fa-question-circle"></i> Ø±Ø§Ù‡Ù†Ù…Ø§</button>
                <button id="logout-btn" onclick="logout()" style="background: var(--gradient-danger);">
                    <i class="fas fa-sign-out-alt"></i> Ø®Ø±ÙˆØ¬
                </button>
            </div>
        </div>

        <!-- ØµÙØ­Ù‡ Ø¢Ø²Ù…ÙˆÙ† -->
        <div id="quiz-container" class="quiz-container">
            <div class="lesson-title" id="lesson-title">Ø¢Ø²Ù…ÙˆÙ†</div>
            <div class="timer" id="timer">â±ï¸ Ø²Ù…Ø§Ù†: 30:00</div>
            
            <!-- Ù†ÙˆØ§Ø± ÙˆØ¶Ø¹ÛŒØª Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ -->
            <div class="answer-status" id="answer-status" style="display: none;">
                <div class="status-item">
                    <div class="status-value" id="correct-count">0</div>
                    <div class="status-label">Ø³ÙˆØ§Ù„Ø§Øª Ø¯Ø±Ø³Øª</div>
                </div>
                <div class="status-item">
                    <div class="status-value" id="incorrect-count">0</div>
                    <div class="status-label">Ø³ÙˆØ§Ù„Ø§Øª ØºÙ„Ø·</div>
                </div>
                <div class="status-item">
                    <div class="status-value" id="unanswered-count">20</div>
                    <div class="status-label">Ø³ÙˆØ§Ù„Ø§Øª Ø¨ÛŒâ€ŒÙ¾Ø§Ø³Ø®</div>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="question" id="question"></div>
            <div class="options" id="options">
                <button class="option-btn" id="option-0" onclick="selectOption(0)" data-option="Ø§Ù„Ù"></button>
                <button class="option-btn" id="option-1" onclick="selectOption(1)" data-option="Ø¨"></button>
                <button class="option-btn" id="option-2" onclick="selectOption(2)" data-option="Ø¬"></button>
                <button class="option-btn" id="option-3" onclick="selectOption(3)" data-option="Ø¯"></button>
            </div>
            
            <!-- ØªØ±ØªÛŒØ¨ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§: Ø¨Ø¹Ø¯ÛŒ - Ù‚Ø¨Ù„ÛŒ - Ù¾Ø§ÛŒØ§Ù† Ø¢Ø²Ù…ÙˆÙ† -->
            <div class="navigation">
                <button class="nav-btn nav-next-btn" id="next-btn" onclick="nextQuestion()">Ø¨Ø¹Ø¯ÛŒ <i class="fas fa-arrow-left"></i></button>
                <button class="nav-btn nav-prev-btn" id="prev-btn" onclick="prevQuestion()"><i class="fas fa-arrow-right"></i> Ù‚Ø¨Ù„ÛŒ</button>
                <button class="submit-btn" id="submit-btn" onclick="submitQuiz()"><i class="fas fa-check-circle"></i> Ù¾Ø§ÛŒØ§Ù† Ø¢Ø²Ù…ÙˆÙ†</button>
            </div>
            
            <!-- Ø´Ù…Ø§Ø±Ù‡ Ø³ÙˆØ§Ù„Ø§Øª ÙˆØ³Ø·â€ŒÚ†ÛŒÙ† -->
            <div class="question-numbers" id="question-numbers"></div>
        </div>

        <!-- ØµÙØ­Ù‡ Ù†ØªØ§ÛŒØ¬ -->
        <div id="results-container" class="results-container">
            <div class="summary" id="summary"></div>
            
            <div class="detailed-results" id="detailed-results">
                <!-- Ù†ØªØ§ÛŒØ¬ ØªÙÚ©ÛŒÚ©ÛŒ Ù‡Ø± Ø¨Ø®Ø´ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
            </div>
            
            <div class="question" id="result-question"></div>
            <div class="options" id="result-options">
                <button class="option-btn" id="result-option-0" disabled data-option="Ø§Ù„Ù"></button>
                <button class="option-btn" id="result-option-1" disabled data-option="Ø¨"></button>
                <button class="option-btn" id="result-option-2" disabled data-option="Ø¬"></button>
                <button class="option-btn" id="result-option-3" disabled data-option="Ø¯"></button>
            </div>
            
            <!-- ØªØ±ØªÛŒØ¨ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§: Ø¨Ø¹Ø¯ÛŒ - Ù‚Ø¨Ù„ÛŒ - Ù…Ù†Ùˆ - Ø¢Ø²Ù…ÙˆÙ† Ø¬Ø¯ÛŒØ¯ -->
            <div class="navigation">
                <button class="nav-btn nav-next-btn" id="next-result-btn" onclick="nextResultQuestion()">Ø¨Ø¹Ø¯ÛŒ <i class="fas fa-arrow-left"></i></button>
                <button class="nav-btn nav-prev-btn" id="prev-result-btn" onclick="prevResultQuestion()"><i class="fas fa-arrow-right"></i> Ù‚Ø¨Ù„ÛŒ</button>
                <button class="nav-btn" id="back-to-menu-btn" onclick="backToMainMenu()"><i class="fas fa-home"></i> Ù…Ù†Ùˆ</button>
                <button class="nav-btn" id="new-exam-btn" onclick="startSameExamAgain()" style="background: var(--gradient-primary);">
                    <i class="fas fa-redo"></i> Ø¢Ø²Ù…ÙˆÙ† Ø¬Ø¯ÛŒØ¯
                </button>
            </div>
            
            <!-- Ø´Ù…Ø§Ø±Ù‡ Ø³ÙˆØ§Ù„Ø§Øª ÙˆØ³Ø·â€ŒÚ†ÛŒÙ† -->
            <div class="question-numbers" id="result-numbers"></div>
        </div>

        <!-- ØµÙØ­Ù‡ Ø±Ø§Ù‡Ù†Ù…Ø§ -->
        <div id="help-container" class="help-container">
            <h2><i class="fas fa-info-circle"></i> Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø³ÛŒØ³ØªÙ… Ø¢Ø²Ù…ÙˆÙ†</h2>
            <p style="margin-bottom: 15px; font-size: 13px;">
                <i class="fas fa-check" style="color: var(--success-color);"></i> Ø¯Ùˆ Ù†ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†: Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ÛŒØ§Ù†Ù‡ Ùˆ ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡<br>
                <i class="fas fa-check" style="color: var(--success-color);"></i> Ù‡Ø± Ø¢Ø²Ù…ÙˆÙ†: 20 Ø³ÙˆØ§Ù„ ØªØµØ§Ø¯ÙÛŒ<br>
                <i class="fas fa-check" style="color: var(--success-color);"></i> Ø²Ù…Ø§Ù† Ù‡Ø± Ø¢Ø²Ù…ÙˆÙ†: 30 Ø¯Ù‚ÛŒÙ‚Ù‡<br>
                <i class="fas fa-check" style="color: var(--success-color);"></i> <strong>Ø´Ø±Ø· Ù‚Ø¨ÙˆÙ„ÛŒ: Ø­Ø¯Ø§Ù‚Ù„ 6 Ø³ÙˆØ§Ù„ Ø¯Ø±Ø³Øª</strong><br>
                <i class="fas fa-check" style="color: var(--success-color);"></i> Ø´Ù…Ø§Ø±Ù‡ Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ Ø¨Ø±Ø§ÛŒ Ø±ÙØªÙ† Ø¨Ù‡ Ø³ÙˆØ§Ù„ Ø¯Ù„Ø®ÙˆØ§Ù‡<br>
                <i class="fas fa-check" style="color: var(--success-color);"></i> Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ Ø¬Ù‡Øªâ€ŒØ¯Ø§Ø±: Ø­Ø±Ú©Øª Ø¨ÛŒÙ† Ø³ÙˆØ§Ù„Ø§Øª<br>
                <i class="fas fa-check" style="color: var(--success-color);"></i> Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ 1-4: Ø§Ù†ØªØ®Ø§Ø¨ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§<br>
                <i class="fas fa-check" style="color: var(--success-color);"></i> Ctrl+Enter: Ù¾Ø§ÛŒØ§Ù† Ø¢Ø²Ù…ÙˆÙ†<br>
                <i class="fas fa-check" style="color: var(--success-color);"></i> Escape: Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ<br><br>
                <strong style="color: var(--primary-color);">ğŸ“ Ø¯Ø±Ø¨Ø§Ø±Ù‡ ÙØ§ÛŒÙ„ Ø³ÙˆØ§Ù„Ø§Øª:</strong><br>
                Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ Ø·ÙˆØ± Ø®ÙˆØ¯Ú©Ø§Ø± ÙØ§ÛŒÙ„ <strong>QuizDiplom.txt</strong> Ø±Ø§ Ø§Ø² Ú©Ù†Ø§Ø± ÙØ§ÛŒÙ„ HTML Ù…ÛŒâ€ŒØ®ÙˆØ§Ù†Ø¯.<br>
                ÙØ±Ù…Øª ÙØ§ÛŒÙ„: Ù‡Ø± Ø³ÙˆØ§Ù„ Ø¯Ø± 8 Ø®Ø·<br>
                1. Ù…ØªÙ† Ø³ÙˆØ§Ù„<br>
                2. Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ù„Ù<br>
                3. Ú¯Ø²ÛŒÙ†Ù‡ Ø¨<br>
                4. Ú¯Ø²ÛŒÙ†Ù‡ Ø¬<br>
                5. Ú¯Ø²ÛŒÙ†Ù‡ Ø¯<br>
                6. Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­ (Ø§Ù„Ù/Ø¨/Ø¬/Ø¯)<br>
                7. Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ<br>
                8. Ù†ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ† (user/typing)<br>
                9. ÛŒÚ© Ø®Ø· Ø®Ø§Ù„ÛŒ Ø¨ÛŒÙ† Ø³ÙˆØ§Ù„Ø§Øª<br><br>
                <span style="color: var(--success-color); font-weight: bold; font-size: 14px;">Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯!</span>
            </p>
            <button onclick="backToMainMenu()"><i class="fas fa-arrow-right"></i> Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ</button>
        </div>
    </div>
    
    <footer>
        <p>Â© 2025 Ø¢Ø²Ù…ÙˆÙ† Ú©Ø§Ø±Ø¨Ø± Ùˆ ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡ - Ù…ÙˆØ³Ø³Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ Ø®ÙˆØ§Ø±Ø²Ù…ÛŒ</p>
        <p>SAY4s | Ø·Ø±Ø§Ø­ÛŒ Ùˆ ØªÙˆØ³Ø¹Ù‡: ØªÛŒÙ… ÙÙ†ÛŒ Ø®ÙˆØ§Ø±Ø²Ù…ÛŒ</p>
    </footer>

    <script>
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø¬Ù‡Ø§Ù†ÛŒ
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let timerInterval = null;
        let currentExamType = "";
        let correctPassword = "1452"; 
        let userAnswers = [];
        
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø§Ø² ÙØ§ÛŒÙ„ TXT
        let userQuestions = [];
        let typingQuestions = [];
        let questionsLoaded = false;
        let loadingAttempted = false;

        // ØªØ§Ø¨Ø¹ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø±Ù…Ø² Ùˆ Ø³ÙˆØ§Ù„Ø§Øª
        async function loadPassword() {
            const loadingMessage = document.getElementById('loading-message');
            const loginMessage = document.getElementById('login-message');
            
            loadingMessage.style.display = 'block';
            
            try {
                // Ù‡Ù…Ø²Ù…Ø§Ù† Ø¨Ø§ ÙˆØ±ÙˆØ¯ØŒ Ø³ÙˆØ§Ù„Ø§Øª Ø±Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
                await loadQuestionsAutomatically();
                
                loadingMessage.style.display = 'none';
                loginMessage.textContent = 'âœ… Ø³ÛŒØ³ØªÙ… Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª';
                loginMessage.style.color = 'var(--success-color)';
            } catch (error) {
                loadingMessage.style.display = 'none';
                loginMessage.textContent = 'âš ï¸ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³ÙˆØ§Ù„Ø§Øª';
                loginMessage.style.color = 'var(--warning-color)';
                console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ:', error);
            }
        }

        // ØªØ§Ø¨Ø¹ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø³ÙˆØ§Ù„Ø§Øª Ø§Ø² ÙØ§ÛŒÙ„ TXT
        async function loadQuestionsAutomatically() {
            if (loadingAttempted) {
                return questionsLoaded;
            }
            
            loadingAttempted = true;
            
            try {
                // ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„ TXT
                const response = await fetch('QuizDiplom.txt');
                
                if (!response.ok) {
                    throw new Error('ÙØ§ÛŒÙ„ QuizDiplom.txt ÛŒØ§ÙØª Ù†Ø´Ø¯');
                }
                
                const text = await response.text();
                await parseTxtQuestions(text);
                
                questionsLoaded = true;
                console.log(`âœ… Ø³ÙˆØ§Ù„Ø§Øª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯: ${userQuestions.length} Ø³ÙˆØ§Ù„ Ú©Ø§Ø±Ø¨Ø±ØŒ ${typingQuestions.length} Ø³ÙˆØ§Ù„ ØªØ§ÛŒÙ¾`);
                return true;
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø³ÙˆØ§Ù„Ø§Øª:', error);
                
                // Ø§ÛŒØ¬Ø§Ø¯ Ú†Ù†Ø¯ Ø³ÙˆØ§Ù„ Ù†Ù…ÙˆÙ†Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ³Øª
                createSampleQuestions();
                questionsLoaded = true;
                
                console.log(`âš ï¸ Ø§Ø² Ø³ÙˆØ§Ù„Ø§Øª Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯: ${userQuestions.length} Ø³ÙˆØ§Ù„ Ú©Ø§Ø±Ø¨Ø±ØŒ ${typingQuestions.length} Ø³ÙˆØ§Ù„ ØªØ§ÛŒÙ¾`);
                return false;
            }
        }

        // ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ø³ÙˆØ§Ù„Ø§Øª Ù†Ù…ÙˆÙ†Ù‡ (Ø§Ú¯Ø± ÙØ§ÛŒÙ„ TXT Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯)
        function createSampleQuestions() {
            userQuestions = [
                {
                    "question": "Ø³ÛŒØ³ØªÙ… Ø¹Ø§Ù…Ù„ ÙˆÛŒÙ†Ø¯ÙˆØ² Ù…Ø­ØµÙˆÙ„ Ú©Ø¯Ø§Ù… Ø´Ø±Ú©Øª Ø§Ø³ØªØŸ",
                    "options": ["Apple", "Microsoft", "Google", "IBM"],
                    "answer": "Microsoft",
                    "category": "Ù…Ø¨Ø§Ù†ÛŒ",
                    "type": "user"
                },
                {
                    "question": "Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ ÛŒÚ© ÙØ§ÛŒÙ„ Ø§Ø² Ú†Ù‡ Ú©Ù„ÛŒØ¯ ØªØ±Ú©ÛŒØ¨ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",
                    "options": ["Ctrl+S", "Ctrl+C", "Ctrl+V", "Ctrl+X"],
                    "answer": "Ctrl+S",
                    "category": "ÙˆÛŒÙ†Ø¯ÙˆØ²",
                    "type": "user"
                }
            ];
            
            typingQuestions = [
                {
                    "question": "Ø¯Ø± Ù†Ø±Ù… Ø§ÙØ²Ø§Ø± Word Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡ ÙØ§ÛŒÙ„ Ø§Ø² Ú†Ù‡ Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",
                    "options": ["File > Save", "Edit > Save", "View > Save", "Tools > Save"],
                    "answer": "File > Save",
                    "category": "Word",
                    "type": "typing"
                },
                {
                    "question": "Ú©Ù„ÛŒØ¯ ØªØ±Ú©ÛŒØ¨ÛŒ Ctrl+B Ø¯Ø± Word Ú†Ù‡ Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŸ",
                    "options": ["Ù…ØªÙ† Ø±Ø§ Bold Ù…ÛŒâ€ŒÚ©Ù†Ø¯", "Ù…ØªÙ† Ø±Ø§ Italic Ù…ÛŒâ€ŒÚ©Ù†Ø¯", "Ù…ØªÙ† Ø±Ø§ Underline Ù…ÛŒâ€ŒÚ©Ù†Ø¯", "Ù…ØªÙ† Ø±Ø§ Ú©Ù¾ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯"],
                    "answer": "Ù…ØªÙ† Ø±Ø§ Bold Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
                    "category": "Word",
                    "type": "typing"
                }
            ];
        }

        // ØªØ§Ø¨Ø¹ ØªØ¬Ø²ÛŒÙ‡ Ùˆ ØªØ­Ù„ÛŒÙ„ Ø³ÙˆØ§Ù„Ø§Øª Ø§Ø² ÙØ§ÛŒÙ„ TXT
        async function parseTxtQuestions(text) {
            userQuestions = [];
            typingQuestions = [];
            
            const lines = text.split('\n');
            let currentQuestion = null;
            let lineCount = 0;
            let questionCount = 0;
            
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i].trim();
                
                if (line === '') {
                    // Ø®Ø· Ø®Ø§Ù„ÛŒ - Ø³ÙˆØ§Ù„ Ù‚Ø¨Ù„ÛŒ Ø±Ø§ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†
                    if (currentQuestion && currentQuestion.question) {
                        if (currentQuestion.type === 'user') {
                            userQuestions.push(currentQuestion);
                        } else if (currentQuestion.type === 'typing') {
                            typingQuestions.push(currentQuestion);
                        }
                        questionCount++;
                    }
                    currentQuestion = null;
                    lineCount = 0;
                    continue;
                }
                
                if (!currentQuestion) {
                    currentQuestion = {
                        question: '',
                        options: ['', '', '', ''],
                        answer: '',
                        category: 'Ø¹Ù…ÙˆÙ…ÛŒ',
                        type: ''
                    };
                }
                
                switch (lineCount) {
                    case 0: // Ù…ØªÙ† Ø³ÙˆØ§Ù„
                        currentQuestion.question = line;
                        break;
                    case 1: // Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ù„Ù
                        currentQuestion.options[0] = line;
                        break;
                    case 2: // Ú¯Ø²ÛŒÙ†Ù‡ Ø¨
                        currentQuestion.options[1] = line;
                        break;
                    case 3: // Ú¯Ø²ÛŒÙ†Ù‡ Ø¬
                        currentQuestion.options[2] = line;
                        break;
                    case 4: // Ú¯Ø²ÛŒÙ†Ù‡ Ø¯
                        currentQuestion.options[3] = line;
                        break;
                    case 5: // Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­
                        currentQuestion.answer = line;
                        break;
                    case 6: // Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
                        currentQuestion.category = line || 'Ø¹Ù…ÙˆÙ…ÛŒ';
                        break;
                    case 7: // Ù†ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†
                        currentQuestion.type = line.toLowerCase();
                        break;
                }
                
                lineCount++;
                
                // Ø§Ú¯Ø± Ø¢Ø®Ø±ÛŒÙ† Ø®Ø· ÙØ§ÛŒÙ„ Ø¨Ø§Ø´Ø¯ØŒ Ø³ÙˆØ§Ù„ Ø±Ø§ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†
                if (i === lines.length - 1 && currentQuestion && currentQuestion.question) {
                    if (currentQuestion.type === 'user') {
                        userQuestions.push(currentQuestion);
                    } else if (currentQuestion.type === 'typing') {
                        typingQuestions.push(currentQuestion);
                    }
                    questionCount++;
                }
            }
            
            console.log(`ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ø³ÙˆØ§Ù„Ø§Øª Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø´Ø¯Ù‡: ${questionCount}`);
            console.log(`Ø³ÙˆØ§Ù„Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ÛŒØ§Ù†Ù‡: ${userQuestions.length}`);
            console.log(`Ø³ÙˆØ§Ù„Ø§Øª ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡: ${typingQuestions.length}`);
            
            // Ø§Ú¯Ø± Ø³ÙˆØ§Ù„ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ø´Ø¯ØŒ Ù¾ÛŒØ§Ù… Ø®Ø·Ø§ Ù†Ø´Ø§Ù† Ø¨Ø¯Ù‡
            if (userQuestions.length === 0 && typingQuestions.length === 0) {
                throw new Error('Ù‡ÛŒÚ† Ø³ÙˆØ§Ù„ÛŒ Ø§Ø² ÙØ§ÛŒÙ„ TXT Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ø´Ø¯');
            }
        }

        // ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³ÙˆØ§Ù„Ø§Øª Ø¯Ø± Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
        function updateQuestionsStatus() {
            const statusElement = document.getElementById('status-text');
            if (!statusElement) return;
            
            if (!questionsLoaded) {
                statusElement.innerHTML = '<i class="fas fa-exclamation-triangle" style="color: var(--warning-color);"></i> Ø³ÙˆØ§Ù„Ø§Øª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ø´Ø¯Ù‡';
            } else {
                const userCount = userQuestions.length;
                const typingCount = typingQuestions.length;
                
                if (userCount === 0 && typingCount === 0) {
                    statusElement.innerHTML = '<i class="fas fa-exclamation-triangle" style="color: var(--danger-color);"></i> Ù‡ÛŒÚ† Ø³ÙˆØ§Ù„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯';
                } else {
                    statusElement.innerHTML = `<i class="fas fa-check-circle" style="color: var(--success-color);"></i> ${userCount} Ø³ÙˆØ§Ù„ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ÛŒØ§Ù†Ù‡ | ${typingCount} Ø³ÙˆØ§Ù„ ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡`;
                }
            }
        }

        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø±Ø³ÛŒ Ø±Ù…Ø²
        function checkPassword() {
            const inputPassword = document.getElementById('password-input').value;
            const messageElement = document.getElementById('login-message');
            
            if (inputPassword === correctPassword) {
                messageElement.textContent = 'âœ… ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚!';
                messageElement.style.color = 'var(--success-color)';
                
                setTimeout(() => {
                    document.getElementById('login-container').style.display = 'none';
                    document.getElementById('main-menu').style.display = 'flex';
                    messageElement.textContent = '';
                    
                    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³ÙˆØ§Ù„Ø§Øª
                    updateQuestionsStatus();
                }, 300);
            } else {
                messageElement.textContent = 'âŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª';
                messageElement.style.color = 'var(--danger-color)';
                
                const loginBox = document.querySelector('.login-box');
                loginBox.style.animation = 'shake 0.5s';
                setTimeout(() => loginBox.style.animation = '', 500);
            }
        }

        // ØªØ§Ø¨Ø¹ Ø§Ù†ØªØ®Ø§Ø¨ Ù†ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†
        function selectExamType(type) {
            if (!questionsLoaded) {
                alert('âš ï¸ Ø³ÙˆØ§Ù„Ø§Øª Ù‡Ù†ÙˆØ² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù†Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯. Ù„Ø·ÙØ§Ù‹ Ú†Ù†Ø¯ Ù„Ø­Ø¸Ù‡ ØµØ¨Ø± Ú©Ù†ÛŒØ¯.');
                return;
            }
            
            const allQuestions = type === 'user' ? userQuestions : typingQuestions;
            
            if (allQuestions.length === 0) {
                alert(`âŒ Ù‡ÛŒÚ† Ø³ÙˆØ§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ø¢Ø²Ù…ÙˆÙ† ${type === 'user' ? 'Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ÛŒØ§Ù†Ù‡' : 'ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡'} ÛŒØ§ÙØª Ù†Ø´Ø¯.\n\nÙ„Ø·ÙØ§Ù‹ ÙØ§ÛŒÙ„ QuizDiplom.txt Ø±Ø§ Ø¯Ø± Ú©Ù†Ø§Ø± ÙØ§ÛŒÙ„ HTML Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯.`);
                return;
            }
            
            if (allQuestions.length < 10) {
                if (!confirm(`âš ï¸ ÙÙ‚Ø· ${allQuestions.length} Ø³ÙˆØ§Ù„ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¢Ø²Ù…ÙˆÙ† ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯. Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ù‡ÛŒØ¯ØŸ`)) {
                    return;
                }
            }
            
            currentExamType = type;
            startRandomExam(type);
        }

        // ØªØ§Ø¨Ø¹ Ø®Ø±ÙˆØ¬
        function logout() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            currentQuestions = [];
            currentQuestionIndex = 0;
            userAnswers = [];
            
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('results-container').style.display = 'none';
            document.getElementById('help-container').style.display = 'none';
            document.getElementById('login-container').style.display = 'flex';
            document.getElementById('password-input').value = '';
        }

        // ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†
        function startRandomExam(type) {
            if (type) {
                currentExamType = type;
            }
            
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'block';
            
            const title = currentExamType === 'user' ? 
                "ğŸ¯ Ø¢Ø²Ù…ÙˆÙ† Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ÛŒØ§Ù†Ù‡" : 
                "âŒ¨ï¸ Ø¢Ø²Ù…ÙˆÙ† ØªØ§ÛŒÙ¾ Ø±Ø§ÛŒØ§Ù†Ù‡";
            document.getElementById('lesson-title').textContent = title;
            
            const allQuestions = currentExamType === 'user' ? userQuestions : typingQuestions;
            
            // Ø§Ù†ØªØ®Ø§Ø¨ Ø³ÙˆØ§Ù„Ø§Øª ØªØµØ§Ø¯ÙÛŒ (Ø­Ø¯Ø§Ú©Ø«Ø± 20 Ø³ÙˆØ§Ù„)
            const questionCount = Math.min(20, allQuestions.length);
            currentQuestions = getRandomQuestions(allQuestions, questionCount);
            
            userAnswers = new Array(currentQuestions.length).fill(null);
            
            document.getElementById('answer-status').style.display = 'flex';
            document.getElementById('unanswered-count').textContent = currentQuestions.length;
            updateAnswerStatus();
            
            currentQuestionIndex = 0;
            createQuestionNumberButtons();
            
            startTimer();
            
            showQuestion();
            
            updateNavButtons();
        }

        // ØªØ§Ø¨Ø¹ Ø§Ù†ØªØ®Ø§Ø¨ ØªØµØ§Ø¯ÙÛŒ Ø³ÙˆØ§Ù„Ø§Øª
        function getRandomQuestions(allQuestions, count) {
            const shuffled = [...allQuestions];
            
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            
            const selected = shuffled.slice(0, count);
            
            selected.forEach(question => {
                const options = [...question.options];
                const correctAnswer = question.answer;
                const originalCorrectIndex = options.indexOf(correctAnswer);
                
                const indices = [0, 1, 2, 3];
                for (let i = indices.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [indices[i], indices[j]] = [indices[j], indices[i]];
                }
                
                const shuffledOptions = [
                    options[indices[0]],
                    options[indices[1]],
                    options[indices[2]],
                    options[indices[3]]
                ];
                
                question.shuffledOptions = shuffledOptions;
                question.correctIndex = shuffledOptions.indexOf(correctAnswer);
                
                if (question.correctIndex === -1) {
                    question.shuffledOptions = [...options];
                    question.correctIndex = originalCorrectIndex;
                }
            });
            
            return selected;
        }

        // ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ ØªØ§ÛŒÙ…Ø±
        function startTimer() {
            let timeLeft = 30 * 60;
            
            if (timerInterval) {
                clearInterval(timerInterval);
            }
            
            updateTimerDisplay(timeLeft);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                
                updateTimerDisplay(timeLeft);
                
                const timerElement = document.getElementById('timer');
                if (timeLeft <= 300) {
                    timerElement.className = 'timer warning';
                }
                if (timeLeft <= 60) {
                    timerElement.className = 'timer danger';
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timerInterval = null;
                    submitQuiz();
                }
            }, 1000);
        }

        // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ ØªØ§ÛŒÙ…Ø±
        function updateTimerDisplay(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            const timerElement = document.getElementById('timer');
            timerElement.textContent = `â±ï¸ Ø²Ù…Ø§Ù†: ${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }

        // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø³ÙˆØ§Ù„
        function showQuestion() {
            if (currentQuestions.length === 0 || currentQuestionIndex >= currentQuestions.length) {
                return;
            }
            
            const question = currentQuestions[currentQuestionIndex];
            document.getElementById('question').textContent = `Ø³ÙˆØ§Ù„ ${currentQuestionIndex + 1}: ${question.question}`;
            
            const optionElements = document.querySelectorAll('#options .option-btn');
            
            if (!question.shuffledOptions) {
                question.shuffledOptions = [...question.options];
                question.correctIndex = question.options.indexOf(question.answer);
            }
            
            for (let i = 0; i < 4; i++) {
                const btn = optionElements[i];
                if (question.shuffledOptions[i]) {
                    btn.textContent = question.shuffledOptions[i];
                    btn.style.display = 'flex';
                    
                    if (userAnswers[currentQuestionIndex] === i) {
                        btn.className = 'option-btn selected';
                    } else {
                        btn.className = 'option-btn';
                    }
                } else {
                    btn.style.display = 'none';
                }
            }
            
            updateProgress();
            updateQuestionNumberButtons();
            updateAnswerStatus();
            updateNavButtons();
        }

        // ØªØ§Ø¨Ø¹ Ø§Ù†ØªØ®Ø§Ø¨ Ú¯Ø²ÛŒÙ†Ù‡
        function selectOption(index) {
            if (currentQuestionIndex >= currentQuestions.length) return;
            
            userAnswers[currentQuestionIndex] = index;
            showQuestion();
            updateAnswerStatus();
        }

        // ØªØ§Ø¨Ø¹ Ø¢Ù¾Ø¯ÛŒØª ÙˆØ¶Ø¹ÛŒØª Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§
        function updateAnswerStatus() {
            let correctCount = 0;
            let incorrectCount = 0;
            let unansweredCount = 0;
            
            for (let i = 0; i < currentQuestions.length; i++) {
                if (userAnswers[i] === null) {
                    unansweredCount++;
                } else {
                    const question = currentQuestions[i];
                    if (userAnswers[i] === question.correctIndex) {
                        correctCount++;
                    } else {
                        incorrectCount++;
                    }
                }
            }
            
            document.getElementById('correct-count').textContent = correctCount;
            document.getElementById('incorrect-count').textContent = incorrectCount;
            document.getElementById('unanswered-count').textContent = unansweredCount;
        }

        // ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ø³ÙˆØ§Ù„Ø§Øª
        function createQuestionNumberButtons() {
            const container = document.getElementById('question-numbers');
            container.innerHTML = '';
            
            for (let i = 0; i < currentQuestions.length; i++) {
                const button = document.createElement('button');
                button.textContent = i + 1;
                button.className = 'number-btn';
                button.onclick = () => {
                    currentQuestionIndex = i;
                    showQuestion();
                };
                container.appendChild(button);
            }
            
            updateQuestionNumberButtons();
        }

        // ØªØ§Ø¨Ø¹ Ø¢Ù¾Ø¯ÛŒØª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ø³ÙˆØ§Ù„Ø§Øª
        function updateQuestionNumberButtons() {
            const buttons = document.querySelectorAll('#question-numbers .number-btn');
            
            buttons.forEach((btn, index) => {
                btn.classList.remove('selected', 'answered', 'correct', 'incorrect');
                
                if (index === currentQuestionIndex) {
                    btn.classList.add('selected');
                }
                else if (userAnswers[index] !== null) {
                    btn.classList.add('answered');
                }
            });
        }

        // ØªØ§Ø¨Ø¹ Ø¢Ù¾Ø¯ÛŒØª Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª
        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
        }

        // ØªØ§Ø¨Ø¹ Ø¢Ù¾Ø¯ÛŒØª ÙˆØ¶Ø¹ÛŒØª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ
        function updateNavButtons() {
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            
            if (currentQuestionIndex === 0) {
                prevBtn.disabled = true;
                prevBtn.style.opacity = '0.5';
            } else {
                prevBtn.disabled = false;
                prevBtn.style.opacity = '1';
            }
            
            if (currentQuestionIndex === currentQuestions.length - 1) {
                nextBtn.disabled = true;
                nextBtn.style.opacity = '0.5';
            } else {
                nextBtn.disabled = false;
                nextBtn.style.opacity = '1';
            }
            
            submitBtn.disabled = false;
            submitBtn.style.opacity = '1';
        }

        // ØªØ§Ø¨Ø¹ Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ
        function nextQuestion() {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            }
        }

        // ØªØ§Ø¨Ø¹ Ø³ÙˆØ§Ù„ Ù‚Ø¨Ù„ÛŒ
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        // ØªØ§Ø¨Ø¹ Ø§Ø±Ø³Ø§Ù„ Ø¢Ø²Ù…ÙˆÙ†
        function submitQuiz() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            const unanswered = [];
            for (let i = 0; i < userAnswers.length; i++) {
                if (userAnswers[i] === null) {
                    unanswered.push(i + 1);
                }
            }
            
            if (unanswered.length > 0) {
                const confirmSubmit = confirm(
                    `âš ï¸ Ø¨Ù‡ ${unanswered.length} Ø³ÙˆØ§Ù„ Ù¾Ø§Ø³Ø® Ù†Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯:\nØ³ÙˆØ§Ù„Ø§Øª: ${unanswered.join(', ')}\n\nØ¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¢Ø²Ù…ÙˆÙ† Ø±Ø§ Ù¾Ø§ÛŒØ§Ù† Ø¯Ù‡ÛŒØ¯ØŸ`
                );
                
                if (!confirmSubmit) {
                    startTimer();
                    return;
                }
            }
            
            showResults();
        }

        // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬
        function showResults() {
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('results-container').style.display = 'block';
            
            let correctCount = 0;
            const categoryStats = {};
            
            for (let i = 0; i < currentQuestions.length; i++) {
                const question = currentQuestions[i];
                const userAnswer = userAnswers[i];
                
                if (userAnswer === question.correctIndex) {
                    correctCount++;
                }
                
                const category = question.category || 'Ø¹Ù…ÙˆÙ…ÛŒ';
                if (!categoryStats[category]) {
                    categoryStats[category] = { total: 0, correct: 0 };
                }
                categoryStats[category].total++;
                if (userAnswer === question.correctIndex) {
                    categoryStats[category].correct++;
                }
            }
            
            const totalQuestions = currentQuestions.length;
            const percentage = Math.round((correctCount / totalQuestions) * 100);
            const isPassed = correctCount >= 6;
            
            const summaryElement = document.getElementById('summary');
            let resultMessage = `ğŸ¯ Ø¯Ø±Ø³Øª: ${correctCount} Ø§Ø² ${totalQuestions} | ğŸ“Š Ø¯Ø±ØµØ¯: ${percentage}%`;
            
            if (isPassed) {
                resultMessage += " âœ… Ù‚Ø¨ÙˆÙ„ Ø´Ø¯ÛŒØ¯!";
                summaryElement.classList.add('pass-animation');
            } else {
                resultMessage += " âŒ Ù…Ø±Ø¯ÙˆØ¯ Ø´Ø¯ÛŒØ¯!";
            }
            
            summaryElement.textContent = resultMessage;
            
            displayCategoryResults(categoryStats);
            
            currentQuestionIndex = 0;
            createResultNumberButtons();
            showResultQuestion();
        }

        // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬ ØªÙÚ©ÛŒÚ©ÛŒ
        function displayCategoryResults(categoryStats) {
            const container = document.getElementById('detailed-results');
            container.innerHTML = '<h3 style="color: var(--primary-color); margin-bottom: 15px; font-size: 16px;">ğŸ“Š Ù†ØªØ§ÛŒØ¬ ØªÙÚ©ÛŒÚ©ÛŒ:</h3>';
            
            for (const [category, stats] of Object.entries(categoryStats)) {
                const percentage = Math.round((stats.correct / stats.total) * 100);
                const color = percentage >= 30 ? '#2ecc71' : '#e74c3c';
                
                const categoryElement = document.createElement('div');
                categoryElement.className = 'category-result';
                categoryElement.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                        <strong style="font-size: 14px;">${category}</strong>
                        <span style="font-weight: bold; color: ${color};">${percentage}%</span>
                    </div>
                    <div style="color: #666; margin-bottom: 8px; font-size: 12px;">${stats.correct} Ø§Ø² ${stats.total} Ø³ÙˆØ§Ù„ ØµØ­ÛŒØ­</div>
                    <div style="height: 8px; background: #e9ecef; border-radius: 4px; overflow: hidden;">
                        <div style="height: 100%; width: ${percentage}%; background: ${color};"></div>
                    </div>
                `;
                
                container.appendChild(categoryElement);
            }
        }

        // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø³ÙˆØ§Ù„ Ø¯Ø± ØµÙØ­Ù‡ Ù†ØªØ§ÛŒØ¬
        function showResultQuestion() {
            if (currentQuestionIndex >= currentQuestions.length) return;
            
            const question = currentQuestions[currentQuestionIndex];
            document.getElementById('result-question').textContent = `Ø³ÙˆØ§Ù„ ${currentQuestionIndex + 1}: ${question.question}`;
            
            const optionElements = document.querySelectorAll('#result-options .option-btn');
            
            if (!question.shuffledOptions) {
                question.shuffledOptions = [...question.options];
                question.correctIndex = question.options.indexOf(question.answer);
            }
            
            for (let i = 0; i < 4; i++) {
                const btn = optionElements[i];
                if (question.shuffledOptions[i]) {
                    btn.textContent = question.shuffledOptions[i];
                    btn.style.display = 'flex';
                    
                    btn.classList.remove('correct', 'incorrect', 'selected');
                    
                    if (i === question.correctIndex) {
                        btn.classList.add('correct');
                    }
                    else if (userAnswers[currentQuestionIndex] === i && userAnswers[currentQuestionIndex] !== question.correctIndex) {
                        btn.classList.add('incorrect');
                    }
                    else if (userAnswers[currentQuestionIndex] === i && userAnswers[currentQuestionIndex] === question.correctIndex) {
                        btn.classList.add('correct');
                    }
                } else {
                    btn.style.display = 'none';
                }
            }
            
            updateResultNumberButtons();
        }

        // ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ø¯Ø± ØµÙØ­Ù‡ Ù†ØªØ§ÛŒØ¬
        function createResultNumberButtons() {
            const container = document.getElementById('result-numbers');
            container.innerHTML = '';
            
            for (let i = 0; i < currentQuestions.length; i++) {
                const button = document.createElement('button');
                button.textContent = i + 1;
                button.className = 'number-btn';
                button.onclick = () => {
                    currentQuestionIndex = i;
                    showResultQuestion();
                };
                container.appendChild(button);
            }
            
            updateResultNumberButtons();
        }

        // ØªØ§Ø¨Ø¹ Ø¢Ù¾Ø¯ÛŒØª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§Ø±Ù‡ Ø¯Ø± Ù†ØªØ§ÛŒØ¬
        function updateResultNumberButtons() {
            const buttons = document.querySelectorAll('#result-numbers .number-btn');
            
            buttons.forEach((btn, index) => {
                btn.classList.remove('selected', 'correct', 'incorrect');
                
                if (index === currentQuestionIndex) {
                    btn.classList.add('selected');
                }
                else if (userAnswers[index] !== null) {
                    const question = currentQuestions[index];
                    if (userAnswers[index] === question.correctIndex) {
                        btn.classList.add('correct');
                    } else {
                        btn.classList.add('incorrect');
                    }
                }
            });
        }

        // ØªØ§Ø¨Ø¹ Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ Ø¯Ø± Ù†ØªØ§ÛŒØ¬
        function nextResultQuestion() {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                showResultQuestion();
            }
        }

        // ØªØ§Ø¨Ø¹ Ø³ÙˆØ§Ù„ Ù‚Ø¨Ù„ÛŒ Ø¯Ø± Ù†ØªØ§ÛŒØ¬
        function prevResultQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showResultQuestion();
            }
        }

        // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø±Ø§Ù‡Ù†Ù…Ø§
        function showHelp() {
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('results-container').style.display = 'none';
            document.getElementById('help-container').style.display = 'block';
        }

        // ØªØ§Ø¨Ø¹ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†Ùˆ
        function backToMainMenu() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            currentQuestions = [];
            currentQuestionIndex = 0;
            userAnswers = [];
            
            document.getElementById('main-menu').style.display = 'flex';
            document.getElementById('quiz-container').style.display = 'none';
            document.getElementById('results-container').style.display = 'none';
            document.getElementById('help-container').style.display = 'none';
            
            // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³ÙˆØ§Ù„Ø§Øª
            updateQuestionsStatus();
        }

        // ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ø¢Ø²Ù…ÙˆÙ†
        function startSameExamAgain() {
            backToMainMenu();
            setTimeout(() => {
                if (currentExamType) {
                    startRandomExam(currentExamType);
                }
            }, 100);
        }

        // Ù…Ø¯ÛŒØ±ÛŒØª Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ ØµÙØ­Ù‡ Ú©Ù„ÛŒØ¯
        document.addEventListener('keydown', function(event) {
            if (document.getElementById('quiz-container').style.display !== 'none') {
                if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {
                    event.preventDefault();
                    nextQuestion();
                } else if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {
                    event.preventDefault();
                    prevQuestion();
                }
                
                if (event.key >= '1' && event.key <= '4') {
                    const index = parseInt(event.key) - 1;
                    selectOption(index);
                }
            }
            
            if (document.getElementById('results-container').style.display !== 'none') {
                if (event.key === 'ArrowLeft' || event.key === 'ArrowUp') {
                    event.preventDefault();
                    nextResultQuestion();
                } else if (event.key === 'ArrowRight' || event.key === 'ArrowDown') {
                    event.preventDefault();
                    prevResultQuestion();
                }
            }
            
            if (document.getElementById('login-container').style.display !== 'none' && event.key === 'Enter') {
                event.preventDefault();
                checkPassword();
            }
            
            if (event.ctrlKey && event.key === 'Enter' && document.getElementById('quiz-container').style.display !== 'none') {
                event.preventDefault();
                submitQuiz();
            }
            
            if (event.key === 'Escape') {
                if (document.getElementById('quiz-container').style.display !== 'none') {
                    if (confirm('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¢Ø²Ù…ÙˆÙ† Ø±Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯ØŸ')) {
                        backToMainMenu();
                    }
                } else if (document.getElementById('help-container').style.display !== 'none') {
                    backToMainMenu();
                }
            }
        });

        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡
        document.addEventListener('DOMContentLoaded', function() {
            // ÙÙˆØ±Ø§Ù‹ Ø´Ø±ÙˆØ¹ Ø¨Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³ÙˆØ§Ù„Ø§Øª Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
            loadQuestionsAutomatically().then(() => {
                console.log('Ø³ÙˆØ§Ù„Ø§Øª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
            }).catch(error => {
                console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³ÙˆØ§Ù„Ø§Øª:', error);
            });
            
            // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ ÙˆØ±ÙˆØ¯
            document.getElementById('password-input').addEventListener('keypress', function(event) {
                if (event.key === 'Enter') {
                    checkPassword();
                }
            });
            
            document.getElementById('password-input').focus();
        });
    </script>
</body>
</html>
